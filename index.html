<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For my Hetu</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Specific styles for the Bunny button - Merged into style.css */
        /* Styles for the Miss You Pop-up - Merged into style.css */
        /* Styles for feelings portal options - Merged into style.css */

        /* Login Screen Styles */
        #loginContainer {
            display: flex; /* Initially shown */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
            background: linear-gradient(to bottom right, #fde4f0, #fff5f8); /* Softer gradient */
        }

        .login-box {
            background: #fff;
            padding: 30px 40px;
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
            text-align: center;
            width: 100%;
            max-width: 400px;
        }

        .login-box h1 {
            color: #d94a6b;
            margin-bottom: 25px;
            font-size: clamp(1.8em, 5vw, 2.4em);
        }

        .login-options button {
            display: block;
            width: 100%;
            padding: 18px 20px;
            margin-bottom: 15px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 15px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            border: none;
        }

        .login-options button.chikoo-btn {
            background: linear-gradient(45deg, #ffadc5, #ff80a0);
            color: white;
            box-shadow: 0 4px 12px rgba(255, 128, 160, 0.3);
        }
        .login-options button.chikoo-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(255, 128, 160, 0.4);
        }

        .login-options button.prath-btn {
            background: linear-gradient(45deg, #7fd2ff, #5ab9ea);
            color: white;
            box-shadow: 0 4px 12px rgba(90, 185, 234, 0.3);
        }
         .login-options button.prath-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(90, 185, 234, 0.4);
        }


        #appContainer {
            display: none; /* Initially hidden */
        }

        .app-header-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 15px; /* Reduced padding */
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            margin-bottom: 10px; /* Space below user info/logout */
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        #loggedInUserDisplay {
            font-size: 0.9em;
            color: #c73f60;
            font-weight: bold;
        }

        .logout-btn {
            background: #f0f0f0;
            color: #666;
            border: 1px solid #ddd;
            padding: 8px 12px;
            font-size: 0.85em;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .logout-btn:hover {
            background: #e0e0e0;
        }
    </style>
</head>
<body>
    <div id="loginContainer">
        <div class="login-box">
            <h1>Welcome! Who are you?</h1>
            <div class="login-options">
                <button class="chikoo-btn" onclick="login('Chikoo')">I am Chikoo üê∞</button>
                <button class="prath-btn" onclick="login('Prath')">I am Prath üêº</button>
            </div>
        </div>
    </div>

    <div id="appContainer">
        <div class="app-header-info">
            <span id="loggedInUserDisplay">User: Not logged in</span>
            <button class="logout-btn" onclick="logout()">Logout</button>
        </div>

        <section id="homeScreen" class="screen active">
            <header class="main-header">
                <h1>For my Hetu</h1>
            </header>
            <main class="options-grid">
                <div class="option-box main-option" onclick="navigateToApp('feelingsPortalScreen')">
                    üíñ Hetu's Feelings Portal üíñ
                </div>
                <div class="option-box main-option" onclick="navigateToApp('diaryScreen')">
                    üìÖ Hetu's Diary üìÖ
                </div>
                <div class="option-box main-option couple-dare-btn" onclick="navigateToApp('coupleDareScreen')">
                    üî• Couple Dares üî•
                </div>
                <div class="option-box bunny-button" onclick="showMissYouPopup()">
                    <span class="bunny-face">üê∞</span>
                </div>
            </main>
            <footer class="main-footer">
                <p>&copy; 2025 For Hetu with Love</p>
            </footer>
        </section>

        <section id="feelingsPortalScreen" class="screen">
            <div class="container">
                <header>
                    <button class="back-to-home-btn" onclick="navigateToApp('homeScreen')">üè† Home</button>
                    <h1>üíñ Feelings Portal üíñ</h1>
                </header>
                <main class="feelings-options-grid">
                    <div class="page active" id="feelingsPage1">
                        <h2>What's on your mind today, <span class="dynamicUserName"></span>?</h2>
                        <div class="options-grid">
                            <div class="option-box grievance" onclick="navigateToFeelingsPage('feelingsPage2', 'Grievance')">
                                üò§ Grievance
                            </div>
                            <div class="option-box appreciate" onclick="navigateToFeelingsPage('feelingsPage2', 'Appreciation')">
                                ü§ó Appreciation
                            </div>
                            <div class="option-box sad" onclick="navigateToFeelingsPage('feelingsPage2', 'Sad')">
                                üòî Sad
                            </div>
                            <div class="option-box happy" onclick="navigateToFeelingsPage('feelingsPage2', 'Happy')">
                                üòä Happy
                            </div>
                        </div>
                    </div>
                    <div class="page" id="feelingsPage2">
                        <h2>You selected: [Emotion]. <span class="dynamicUserName"></span>, please let me know your thoughts.</h2>
                        <div class="notebook">
                            <textarea id="feelingsMessage" placeholder="Write your thoughts here..."></textarea>
                            <button id="submitFeelingsBtn" onclick="submitFeelingsEntry()">Submit Entry</button>
                            <button class="back-btn" onclick="navigateToFeelingsPage('feelingsPage1')">Back</button>
                        </div>
                    </div>
                    <div class="page" id="feelingsPage3">
                        <h2>Thank you for sharing, <span class="dynamicUserName"></span>!</h2>
                        <p class="confirmation-box">Your thoughts: "<span id="feelings-message-box"></span>" have been recorded.</p>
                        <button onclick="navigateToFeelingsPage('feelingsPage1')">Share Another Feeling</button>
                        <button class="view-all-btn" onclick="fetchAndDisplayFeelingsEntries()">View All Entries</button>
                    </div>
                    <div class="page" id="feelingsViewEntriesPage">
                        <h2>All Feelings Entries</h2>
                        <div id="feelingsEntriesList" class="entries-list">
                            </div>
                        <button class="back-btn" onclick="navigateToFeelingsPage('feelingsPage3')">Back</button>
                    </div>
                </main>
                <footer class="portal-footer">
                    <p>Your feelings are safe here.</p>
                </footer>
            </div>
        </section>

        <section id="diaryScreen" class="screen">
            <div class="container">
                <header>
                    <button class="back-to-home-btn" onclick="navigateToApp('homeScreen')">üè† Home</button>
                    <h1>üìÖ Hetu's Diary üìÖ</h1>
                </header>
                <main>
                    <div class="page active" id="diaryCalendarPage">
                        <div class="calendar-nav">
                            <button id="prevMonthBtn" class="nav-btn">‚Üê Previous</button>
                            <h2 id="currentMonthYear"></h2>
                            <button id="nextMonthBtn" class="nav-btn">Next ‚Üí</button>
                        </div>
                        <div class="calendar-grid" id="calendarGrid">
                            </div>
                        <button class="view-all-btn" onclick="navigateToDiaryPage('diaryEntriesListPage')">View All Entries</button>
                    </div>
                    <div class="page" id="diaryEntryPage">
                        <h2 id="diaryEntryDate"></h2>
                        <div class="notebook">
                            <textarea id="diaryEntryText" placeholder="Write your diary entry for this day..."></textarea>
                            <button id="saveDiaryEntryBtn" onclick="saveDiaryEntry()">Save Entry</button>
                            <button class="back-btn" onclick="navigateToDiaryPage('diaryCalendarPage')">Back to Calendar</button>
                        </div>
                    </div>
                    <div class="page" id="diaryViewEntryPage">
                        <h2 id="viewedDiaryEntryDate"></h2>
                        <div class="notebook">
                            <p id="viewedDiaryEntryText"></p>
                        </div>
                        <button class="back-btn" onclick="navigateToDiaryPage('diaryCalendarPage')">Back to Calendar</button>
                        <button id="editDiaryEntryBtn" onclick="editDiaryEntry()">Edit Entry</button>
                        <button id="deleteDiaryEntryBtn" class="delete-btn" onclick="deleteDiaryEntry()">Delete Entry</button>
                    </div>
                     <div class="page" id="diaryEntriesListPage">
                        <h2>All Diary Entries</h2>
                        <div id="diaryEntriesList" class="entries-list">
                            </div>
                        <button class="back-btn" onclick="navigateToDiaryPage('diaryCalendarPage')">Back to Calendar</button>
                    </div>
                </main>
                <footer class="portal-footer">
                    <p>Every day is a new story.</p>
                </footer>
            </div>
        </section>

        <section id="coupleDareScreen" class="screen">
            <div class="container">
                <header>
                    <button class="back-to-home-btn" onclick="navigateToApp('homeScreen')">üè† Home</button>
                    <h1>üî• Couple Dares üî•</h1>
                </header>
                <main class="dare-game-content">
                    <p class="dare-display" id="coupleDareText">Click "Get New Dare" to begin!</p>
                    <button class="get-dare-btn" onclick="showRandomDare()">Get New Dare</button>
                </main>
                <footer class="portal-footer">
                    <p>Spice things up! üòâ</p>
                </footer>
            </div>
        </section>

    </div>

    <div id="overlay" class="overlay" onclick="closeMissYouPopup()"></div>
    <div id="missYouPopup" class="miss-you-popup">
        <div class="miss-you-content">
            <p id="missYouMessage"></p>
            <button onclick="closeMissYouPopup()">Okay! üòò</button>
        </div>
    </div>

    <script>
        // Miss You Pop-up logic (kept inline as it's very specific to this HTML structure)
        const missYouMessages = [
            "Pratham misses you too! ‚ù§Ô∏è",
            "Thinking of you, always! ‚ú®",
            "You're the best! üíñ"
        ];

        function showMissYouPopup() {
            const bunnyFace = document.querySelector('.bunny-button .bunny-face');
            bunnyFace.classList.add('spinning'); // Start spinning

            setTimeout(() => {
                bunnyFace.classList.remove('spinning');
                
                let message = missYouMessages[Math.floor(Math.random() * missYouMessages.length)];
                // Personalize "Pratham misses you too!" if Chikoo is logged in
                if (typeof currentUser !== 'undefined' && currentUser === 'Chikoo' && message === "Pratham misses you too! ‚ù§Ô∏è") {
                    // message remains as is
                } else if (typeof currentUser !== 'undefined' && currentUser === 'Prath' && message === "Pratham misses you too! ‚ù§Ô∏è") {
                    message = "Chikoo misses you too! ‚ù§Ô∏è"; // Or a generic message
                }

                document.getElementById('missYouMessage').innerHTML = message;
                document.getElementById('missYouPopup').style.display = 'block';
                document.getElementById('overlay').style.display = 'block';
            }, 2000);
        }

        function closeMissYouPopup() {
            document.getElementById('missYouPopup').style.display = 'none';
            document.getElementById('overlay').style.display = 'none';
        }
    </script>
    <script src="script.js"></script>
</body>
</html>
